This story has been updated.As the Senate began voting Wednesday on nine proposed changes to a gun control bill, the centerpiece proposal on background checks quickly failed to win enough support, despite broad public backing.The vote on the so-called Manchin-Toomey amendment was 54 in favor, 46 against -- failing to reach the 60-vote threshold needed to move ahead. Four Republicans supported it, and four Democrats voted no.A controversial Democratic plan to ban dozens of military-style assault weapons was also defeated by a vote of 40 to 60.The votes were a setback for President Obama, who angrily blasted Republicans for defeating the background check compromise, saying, “The gun lobby and its allies willfully lied about the bill."“All in all, this was a pretty shameful day for Washington,” Obama said, promising that “this effort is not over.”