WASHINGTON ― Congress delivered a powerful rebuke to President Barack Obama on Wednesday by overriding his veto of a bill allowing 9/11 victims to sue Saudi Arabia for its alleged ties to the terrorist attacks.It’s the first time one of Obama’s vetoes has been overruled.It takes a two-thirds majority in the House and Senate to override a presidential veto, which is why it’s so rare. In this case, both chambers had well above that threshold: The Senate voted 97-1 to override, and hours later, the House voted 348-77. The bill now automatically becomes law without the president’s signature.Wednesday’s vote brings an end to a monthslong scuffle between the White House and Congress over the measure known as the Justice Against Sponsors of Terrorism Act. The bill prevents Saudi Arabia and other countries with alleged ties to terrorist groups from invoking their legal immunity in U.S. courts. It trumps the 1976 Foreign Sovereign Immunities Act, which grants immunity to countries that aren’t designated state sponsors of terrorism.Fifteen of the 19 hijackers on 9/11 were Saudi citizens, but the Saudi government denies any role in the attacks and multiple U.S. government investigations have cleared it of blame.Obama administration officials have warned that the bill would put U.S. service members overseas at legal risk and leave the United States vulnerable to bogus lawsuits in court systems around the world. The European Union and former top executive branch officials have urged Obama to stop it in the name of protecting sovereign immunity. Saudi Arabia has threatened to retaliate by selling off hundreds of billions of dollars in American assets.But those warnings just didn’t sway lawmakers, who think the White House’s case falls short. When the bill passed the House and Senate earlier this year, it sailed through both chambers with zero opposition.“This is the single most embarrassing thing the United States Senate has done, possibly since 1983.”- White House Press Secretary Josh EarnestEven House Minority Leader Nancy Pelosi (D-Calif.), arguably Obama’s strongest ally on Capitol Hill, voted Wednesday to override his veto. She said it wasn’t personal.“It’s not against the president. It’s against an idea, an interpretation of a bill,” Pelosi told The Huffington Post during a roundtable with reporters on Tuesday. “I have a close relationship with the [9/11] families. I have for 15 or 16 years. I will be supporting their day in court.”One Republican lawmaker, who requested anonymity, said some of his GOP colleagues were just eager for the chance to deny Obama a veto before he leaves office.“Since we’re on background, a lot of people saw a chance to override the president’s veto finally,” this member said.The bill forged some unusual alliances. Sen. Chuck Schumer (D-N.Y.), who is set to become Democratic leader next year, and Sen. John Cornyn (R-Texas), a conservative member of Republican leadership, ushered the bill through the Senate. In the House, Republicans and Democrats from New York took the lead.A handful of Republicans and Democrats did raise concerns about the bill. Rep. Bobby Scott (D-Va.) said it “abrogates a core principle of international law for foreign sovereign immunity.” Sen. Bob Corker (R-Tenn.) noted that the Joint Chiefs of Staff warned that the bill could unintentionally end up hurting service members overseas, though he voted for it in the end.Weirdly, right after nearly all senators voted to override Obama’s veto, 28 of them wrote to the bill’s sponsors, raising concerns about its “unintended consequences.”White House press secretary Josh Earnest didn’t mince words when asked for a reaction to the Senate’s override.“This is the single most embarrassing thing the United States Senate has done, possibly since 1983,” he told reporters aboard Air Force One, according to a pool report. He was apparently referring to the year the Senate overwhelmingly overrode President Ronald Reagan’s veto of a land bill that granted a few acres to some retired couples who had paid for it, only to discover later that the land was still government property due to a surveying error.One Republican senator was quoted as saying he was “not quite sure what the bill actually did,” Earnest said. “To have members of the United States Senate only recently informed of the negative impact of this bill on our service members and our diplomats is, in itself, embarrassing.”The only senator who voted to sustain Obama’s veto was Minority Leader Harry Reid (D-Nev.).He showed “courage,” Earnest said.Ryan Grim contributed reporting. This story has been updated to include information about lawmakers’ concerns about the bill and their reasons for overriding the veto.