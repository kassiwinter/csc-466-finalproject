BEIJING (AP) — The prospects for a preliminary breakthrough in the U.S.-China trade war improved Thursday after the two sides agreed to reduce some punitive tariffs on each other’s goods, though the full extent of the rollback wasn’t clear.A Chinese spokesman announced the development Thursday as talks on ending the trade war progressed, and it triggered a rally in U.S. stock markets.A U.S. private sector analyst with knowledge of the talks said there are still deliberations in the White House about how far to roll back the duties and what steps China must take before the reductions would occur. The analyst spoke on condition of anonymity because he wasn’t authorized to discuss the talks publicly.The ongoing talks are aimed at working out details of a “Phase 1” deal that was announced Oct. 12. Financial markets had been rattled by reports that China was pushing for tariffs to be lifted, which posed the prospect of a breakdown in talks.Negotiators agreed to a “phased cancellation” of tariff hikes if talks progress, said a Chinese Commerce Ministry spokesman, Gao Feng, early Thursday.“If the two sides achieve a ‘Phase 1’ agreement, then based on the content of that agreement, tariffs already increased should be canceled at the same time and by the same rate,” Gao said at a news briefing.As for the size of reductions, Gao said that would depend on the agreement.“We can be cautiously optimistic here,” said Mary Lovely, a trade economist at the Peterson Institute for International Economics in Washington. “The signals that are coming out are moving in the right direction for a deal.”The two sides are aiming to finalize the agreement by the end of next week, the private sector official said. President Donald Trump and China’s President Xi Jinping would still need to agree on where and when they would formally sign the pact.As part of the agreement, the Trump administration would withdraw threatened tariffs that it planned to impose Dec. 15 on about $160 billion in Chinese imports, the source said. Those duties would cover smartphones, laptops and other consumer goods.Still unresolved is whether and how much to reverse the tariffs that were imposed Sept. 1 on $112 billion of Chinese imports, the private sector analyst said.“The White House never speaks with one voice,” Lovely said.On Wall Street, stocks closed at new highs in the wake of the encouraging report from Beijing but shed some of their earlier gains after reports emerged of dissension within the White House over the idea of lifting tariffs. The Dow Jones Industrial Average rose 182 points to a record 27,675.Governments of the two biggest global economies have raised tariffs on billions of dollars of each other’s goods in the fight over China’s trade surplus and technology ambitions. That weighs on trade worldwide and threatens to depress corporate earnings and global economic growth, which is already showing signs of slowing.The Oct. 12 agreement was modest, and details have yet to be put on paper, but it was welcomed as a sign of progress toward ending the trade war.Lovely said that the agreement would help U.S. farmers and manufacturers — constituencies important to Trump in the 2020 election.“It makes a lot of sense politically and economically for the president to say this is enough,” she said.U.S. business groups largely praised the outline of the pact, saying that it would make progress in opening up China’s market to foreign investment and to U.S. financial services companies.“It’s a step in the right direction,” said Jake Parker, senior vice president of the U.S.-China Business Council. “It also builds momentum to tackle all the more difficult issues.”The trade war has taken a toll on the U.S. economy. The Port of Los Angeles said Thursday that last month it handled 20% less cargo than the same month a year earlier. Exports have fallen for 12 straight months.Businesses have cut back on their spending on industrial machinery and other equipment amid the uncertainty created by the trade war. Those cutbacks have hurt U.S. factories and slowed annual growth to 1.9% in the July-September quarter from 3.1% in the first three months of the year.Trump agreed to postpone a planned tariff hike while lower-level officials hammered out details.Trump said China agreed to buy up to $50 billion of American farm goods. Beijing has yet to confirm the scale of its commitment.China’s imports of American soybeans and other goods tumbled 26.4% in the first nine months of this year following tariff hikes and orders to importers to find other suppliers.The Oct. 12 agreement helped to ease financial market jitters, but the two sides have yet to report progress on major disagreements over technology and other irritants following 13 rounds of talks.Trump and Xi were due to meet at this month’s gathering of Asia-Pacific leaders in Chile but that event was canceled due to protests there.That dampened hopes a face-to-face meeting might produce progress. But U.S. officials say the two governments are looking for a different location.U.S. Commerce Secretary Wilbur Ross said this week any “Phase 1” agreement would be general and cover trade in specific areas such as soybeans and liquefied natural gas.More complicated issues would be tackled in later negotiations, Ross said. He gave no indication whether rolling back tariffs was a possibility at this stage.___Rugaber reported from Washington.