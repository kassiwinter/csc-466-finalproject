KABUL—An Afghan soldier killed a two-star U.S. Army general when he opened fire on a group of Western military officers Tuesday, officials said, claiming the highest-ranking American casualty in more than a decade of war and resurrecting concerns about the U.S. exit strategy from Afghanistan.The attacker, armed with a machine gun and wearing an Afghan army uniform, surprised the visiting group of Western military officials and fired dozens of rounds before being killed on the grounds of the Afghan army officers' school, U.S. officials said. The attack took the life of Maj. Gen.         Harold J. Greene,    52 years old, an Army officer who had recently returned to Afghanistan to serve as deputy commander of the coalition transition force responsible for training and equipping Afghan troops, making him the highest-ranking military officer killed since the Sept. 11, 2001, terrorist attacks, U.S. officials said.     The shooter wounded at least 17 other people, including a German brigadier general and Gen.         Ghulam Sakhi,    the Afghan officer running the university, military officials said. The German military said the brigadier general's wounds weren't life threatening.                                                  Army Maj. Gen. Harold J. Greene was killed in an attack Tuesday.          U.S. Army/Reuters                                                                                                             Tuesday's attack reignited concerns about the dangers posed by members of the Afghan security forces, but Pentagon officials said Gen. Greene's death wouldn't change American plans to withdraw most forces from Afghanistan by year's end.               "I don't see any impact to the current plans to draw down our forces in Afghanistan," said Rear Adm.         John Kirby,    the Pentagon press secretary, who hailed the Afghan military for taking over the job of battling Taliban insurgents. "This is a security force that we believe grows stronger by the week."     The U.S. military is in the process of winding down operations in Afghanistan by year's end and is planning to leave about 10,000 American troops to help shore up Afghan forces and carry out limited operations to combat al Qaeda threats in the region.     That assumes that the next Afghan president will sign a security agreement solidifying the plan. The rival candidates vying to succeed President         Hamid Karzai    have both pledged to sign the security agreement once in office. But they are in a protracted dispute over the results of a runoff election, which is the subject of an audit, and it isn't clear when the next president will take office.     Tuesday's attack took place around noon while officers were touring the Afghanistan National Military Academy, on the grounds of the Marshal Fahim National Defense University complex in Kabul, officials said.           Related Coverage           Preliminary reports suggested that the attack wasn't the result of a Taliban plan or a specific attempt to target the American general. Investigators are trying to determine if something happened to trigger the rampage.     "There is no indication this was premeditated or long-planned," said one senior U.S. official. "And there is no indication the victim was deliberately targeted."     President         Barack Obama    and Defense Secretary         Chuck Hagel    both called Marine Gen.         Joseph Dunford,    the U.S. commander in Afghanistan, to discuss the shooting and make sure there were enough safeguards for Americans serving in Afghanistan.     "Today's tragic incident is a painful reminder that our servicemen and women are still serving and sacrificing in Afghanistan," said White House spokesman         Josh Earnest.    "And they're facing significant risks to protect our country and to protect American citizens all around the globe."     Gen. Greene flew to Afghanistan in January, said his son Matthew Greene, a first lieutenant in the Army stationed in Fort Sill, Okla.      While Gen. Greene had previously served short tours to Afghanistan and Iraq, this was his first full-length tour in Afghanistan, his son said.      "He was excited to help out," said Lt. Greene. "Obviously, being separated from our family and being separated from my mother was not his first priority, but he was happy to do the job and he really loved his job and he really thought he was making a big difference."     A 30-year Army veteran, Gen. Greene came from a long line of military service. Gen Greene had been married to retired Col.         Sue Myers    for more than 25 years.                                                  An Afghan security official stands guard at the Qargha camp in Kabul.          European Pressphoto Agency                                                                                                             So-called "insider attacks" became a major concern for the U.S. military in 2012 when such violence reached a peak. That year, at least 61 members of the U.S.-led military coalition were killed in attacks. The coalition created new safeguards that helped significantly reduce—but not eliminate—the number of attacks on Westerners.     In recent months, Afghan security forces have sometimes turned their guns on civilians. In April, an Afghan police officer shot and killed three Americans working at a Kabul hospital. Another Afghan policeman killed an Associated Press photojournalist in a shooting earlier that month.     Adm. Kirby described such attacks as a "pernicious threat" that were impossible to completely eliminate. But he noted that Tuesday's incident on U.S. forces was now a rarity in Afghanistan, a fact he cited as an example of progress.     "As terrible as today is—and it's a terrible day, a terrible tragedy—we haven't seen in the course of the last year or so a spate of these insider attacks," he said.     Such attacks were most frequent when more coalition forces worked closely with Afghan forces across Afghanistan. Coalition officers blamed the attacks on cultural misunderstandings between Afghan and foreign troops, as well as infiltration of Afghan police and army ranks by committed insurgents.                                         On Tuesday, an assailant wearing an Afghan military uniform gunned down a U.S. Army major general, the highest-ranking American casualty since the war began.                                                                                                     It is rare for high-ranking officers to fall victim to insider attacks.      In Feb. 2012, an Afghan policeman gunned down a U.S. colonel and major at Afghanistan's Ministry of Interior compound in Kabul. The incident, which the Taliban attributed to an insurgent infiltrator, prompted the commander of coalition forces to temporarily pull scores of foreign advisers from Afghan ministries.     A year earlier, an Afghan military officer opened fire on coalition forces meeting at the Kabul airport, killing eight American service members and a U.S. contractor. The Taliban took credit for the attack.      Until Tuesday, the highest-ranking U.S. soldier to die in Afghanistan was Brig. Gen.         Terence Hildner,    who died of natural causes in 2012. There are no other known cases of U.S. generals dying by enemy fire in Afghanistan.     —Felicia Schwartz,       Julian E. Barnes and       Colleen McCain Nelson contributed to this article.     Corrections & Amplifications     An Afghan military officer shot and killed eight American service members and one U.S. civilian contractor in a 2011 attack. A previous version of this story didn't make clear that the civilian also was American. (Aug. 6, 2014)      Write to Nathan Hodge at nathan.hodge@wsj.com, Dion Nissenbaum at dion.nissenbaum@wsj.com and Margherita Stancati at margherita.stancati@wsj.com          Copyright ©2022 Dow Jones & Company, Inc. All Rights Reserved. 87990cbe856818d5eddac44c7b1cdeb8