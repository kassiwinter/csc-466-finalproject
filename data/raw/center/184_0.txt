DUBAI, United Arab Emirates (AP) — Any attack on Iran by the U.S. or Saudi Arabia will spark an “all-out war,” Tehran’s top diplomat warned Thursday, raising the stakes as Washington and Riyadh weigh a response to a drone-and-missile strike on the kingdom’s oil industry that shook global energy markets.The comments by Foreign Minister Mohammad Javad Zarif represented the starkest warning yet by Iran in a long summer of mysterious attacks and incidents following the collapse of Iran’s 2015 nuclear deal with world powers, more than a year after President Donald Trump unilaterally withdrew the U.S. from the accord.They appeared to be aimed directly at U.S. Secretary of State Mike Pompeo, who while on a trip to the region earlier referred to Saturday’s attack in Saudi Arabia as an “act of war.”Along with the sharp language, however, there also were signals from both sides of wanting to avoid a confrontation.On Thursday evening, a spokesman at Iran’s mission to the United Nations said Zarif and President Hassan Rouhani had received U.S. visas to attend next week’s annual U.N. General Assembly meeting in New York.In his comments, Zarif sought to expose current strains between the Americans and the Saudis under Trump, who long has criticized U.S. wars in the Middle East.Trump’s close relationship with Saudi Crown Prince Mohammed bin Salman has been challenged by opponents following the killing of Washington Post columnist Jamal Khashoggi last year in the Saudi Consulate in Istanbul and the kingdom’s long, bloody war in Yemen. That country’s Houthi rebels claimed the oil field attack Saturday in Saudi Arabia, although the U.S. alleges Iran carried it out.“I think it is important for the Saudi government to understand what they’re what they’re trying to achieve. Do they want to fight Iran until the last American soldier? Is that their aim?” Zarif asked in a CNN interview. “They can be assured that this won’t be the case ... because Iran will defend itself.”Asked by the broadcaster what would be the consequence of a U.S. or Saudi strike, Zarif bluntly said: “An all-out war.”“I’m making a very serious statement that we don’t want war. We don’t want to engage in a military confrontation,” he said. “We believe that a military confrontation based on deception is awful.”Zarif, who was to travel to New York on Friday, added: “We’ll have a lot of casualties, but we won’t blink to defend our territory.”Pompeo, who was in the United Arab Emirates, dismissed Zarif’s remarks, saying: “I was here (doing) active diplomacy while the foreign minister of Iran is threatening all-out war to fight to the last American.”Pompeo said he hoped Iran would choose a path toward peace, but he remained doubtful. He described “an enormous consensus in the region” that Iran carried out the attack.“There are still those today who think, ‘Boy, if we just give Iran just a little bit more money they’ll become a peaceful nation,’” he said. “We can see that that does not work.”Pompeo met Abu Dhabi’s powerful crown prince, Sheikh Mohammed bin Zayed Al Nahyan. The UAE is a close ally of Saudi Arabia and joined the kingdom in its war with the Houthi rebels in Yemen. The 4-year-old war has killed tens of thousands of people and destroyed much of the country, with millions more driven from their homes and thrown into near starvation.On Wednesday, Pompeo met with the Saudi crown prince in Jiddah about the attack on the kingdom’s crucial oil processing facility and oil field, which cut its oil production in half.While Pompeo struck a hard line, Trump has been noncommittal on whether he would order U.S. military retaliation. He said separately Wednesday that he is moving to increase financial sanctions on Tehran over the attack, without elaborating. Iran already is subject to a crushing American sanctions program targeting its crucial oil industry.The UAE said it had joined a U.S.-led coalition to protect waterways across the Middle East after the attack in Saudi Arabia.The state-run WAM news agency quoted Salem al-Zaabi of the Emirati Foreign Ministry as saying the UAE joined the coalition to “ensure global energy security and the continued flow of energy supplies to the global economy.”Saudi Arabia joined the coalition on Wednesday. Australia, Bahrain and the United Kingdom also are taking part.The U.S. formed the coalition after attacks on oil tankers that Washington blamed on Tehran, as well as Iran’s seizure of tankers in the region. Iran denies being behind the tanker explosions, although the attacks came after Tehran threatened to stop oil exports from the Persian Gulf.Iraq said it would not join the coalition. The government in Baghdad, which is allied with both Iran and the U.S., has tried to keep a neutral stance amid the tensions.At a news conference Wednesday, the Saudis displayed broken and burned drones and pieces of a cruise missile that military spokesman Col. Turki Al-Malki identified as Iranian weapons collected after the attack. He also played surveillance video that he said showed a drone coming in from the north. Yemen is to the south of Saudi Arabia.Eighteen drones and seven cruise missiles were launched in the assault, Al-Malki said, with three missiles failing to hit their targets. He said the cruise missiles had a range of 700 kilometers (435 miles), meaning they could not have been fired from inside Yemen. That opinion was shared by weapons experts who spoke to The Associated Press .French Foreign Minister Jean-Yves Le Drian similarly was skeptical of the Houthi claim of responsibility.“This is not very credible, relatively speaking,” he told CNews television. “But we sent our experts to have our own vision of things.”Separately, a U.N. panel of experts on Yemen arrived in Saudi Arabia to investigate the attack, U.N. spokesman Farhan Haq said.___Associated Press writers David Rising in Berlin, Angela Charlton in Paris, Qassim Abdul-Zahra in Baghdad and Edith M. Lederer at the United Nations contributed.