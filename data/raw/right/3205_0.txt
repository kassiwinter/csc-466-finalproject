                                                                                                                                         President Trump and Republican leaders in Congress tamped down a conservative rebellion and pushed a stopgap spending bill through the House on Thursday evening, setting up a shutdown showdown in the Senate just hours before the Friday deadline.                                                                                                                                                      Senate passage is far from guaranteed, with both Democrats and a smattering of Republicans saying they can’t stomach another stopgap spending bill without including an amnesty for illegal immigrant Dreamers.                                                                                                                                                      Republican leaders were already warning of a “Schumer shutdown,” hoping to pin blame on Senate Minority Leader Charles E. Schumer of New York should he and his Democratic colleagues lead a filibuster to block the bill, which would keep the government funded through Feb. 16 and extend the life of the Children’s Health Insurance Program by six years.                                                                                                                                                                    “The only people standing in the way of keeping the government open are Senate Democrats,” said House Speaker Paul D. Ryan, Wisconsin Republican. “Senate Democrats do not oppose anything in this bill. They are just holding this critical funding hostage for a deal on a completely unrelated immigration issue.”                                                                                                                              Rank-and-file Democrats, though, gave a long list of things they wanted to see in the continuing resolution, known as a “CR” in Capitol-speak. Foremost among those demands was an immigration deal, but they also wanted a pension bailout for some union workers, a different version of the children’s health program and a boost in funding for domestic needs.                                                                                                                                                                 Republicans said those could be part of the next month’s conversations, but Democrats demanded action now.                                                                                                                                                                                                                                                                                                            “It’s a mess,” said Mr. Schumer. “We can’t keep careening from short-term CR to short-term CR. If this bill passes, there will be no incentive to negotiate and we will be right back here in a month with the same problems at our feet.”                                                                                                                              Democrats were counting on Republicans’ history of orchestrating shutdowns in 1995 and 2013, and threatening them in other years, to help voters reach the conclusion that Republicans would be responsible this time as well.                                                                                                                              They pointed to the president’s comments in spending negotiations last year — that the government needed a “good shutdown” — as evidence that Mr. Trump has been fomenting the problem.                                                                                                                   “This is like giving you a bowl of doggy doo, put a cherry on top and call it a chocolate sundae,” Mrs. Pelosi said.                                                                                                                 But Thursday’s 230-197 vote in the House was a victory for Republican leaders.                      “It is a big deal,” said Rep. Tom Cole, Oklahoma Republican. “I think it shows we control the floor; they don’t. … We didn’t need their votes to pass it.”                      It wasn’t clear earlier in the day that they would succeed. Members of the ultra-conservative House Freedom Caucus threatened to withhold their support, saying the military deserved a longer-term spending package.                      There were enough no votes among the more than 30 members to kill the bill, said Freedom Caucus leader Rep. Mark Meadows, North Carolina Republican. They held out for concessions until less than an hour before the scheduled floor vote.                      It took assurances from Mr. Trump and Mr. Ryan that their demands would be addressed to assuage the conservatives.                      “I will be recommending to our caucus, based on what I just heard, that we support the president in this particular issue,” Mr. Meadows told reporters as he left a meeting in the speaker’s office.                      The vote was largely party-line, though a half-dozen Democrats voted yes and 11 Republicans voted no.                      Rep. Carlos Curbelo, a Florida Republican who has also been working closely on a fix for Dreamers, said he wanted his vote to send the message that immigrants needed to be taken care of immediately.                      “This institution, regrettably, needs to be forced to action. Otherwise, it doesn’t move,” said Mr. Curbelo. “That would be cruel to wait [until] March. A lot of people are getting very anxious.”                      Republican leaders say the deadline for immigration talks is March 5, when the administration’s phaseout of the Obama-era Deferred Action for Childhood Arrivals deportation amnesty was to be completed.                      Immigrant rights advocates, though, said they didn’t want Dreamers to live in uncertainty for the next six weeks.                      They have put immense pressure on Democratic lawmakers, staging sit-ins and protests and getting arrested while demanding full legal status for millions of illegal immigrants.                      Mr. Trump has said he is open to such a deal but that it must be coupled with funding for his border wall, limits to chain migration and the end of the Diversity Visa Lottery.                      Sen. Lindsey Graham, South Carolina Republican, and Sen. Richard J. Durbin, Illinois Democrat, had reached a deal that included a generous pathway to citizenship for Dreamers but just 10 percent of border wall money, small adjustments to chain migration and an end to the visa lottery, but a new amnesty for Haitians, Salvadorans and other would-be illegal immigrants.                      Mr. Graham said he was joining Democrats to block the short-term spending bill.                      “I am not going to support continuing this fiasco for 30 more days by voting for a continuing resolution,” Mr. Graham said. “It’s time Congress stop the cycle of dysfunction, grow up and act consistent with the values of a great nation.”                      Some Senate Republicans said, though, that if only one or two of their colleagues defect, Democrats will be to blame.                      “If virtually all or all but one are trying to pass it, then the Democrats are 100 percent responsible for shutting down the government, and they don’t want that either,” said Sen. James M. Inhofe, Oklahoma Republican.                      ⦁ Stephen Dinan contributed to this report.                                                                                                                                                                                                                                                                